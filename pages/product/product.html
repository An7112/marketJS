<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="/style/app.css">
    <link rel="stylesheet" type="text/css" href="/style/page1.css">
    <link rel="stylesheet" type="text/css" href="/style/index.css">
    <link rel="stylesheet" type="text/css" href="/style/shopping.css">
    <link rel="stylesheet" type="text/css" href="/style/product.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
</head>

<body>
    <div id="header">
        <div class="frame-menu-icon">
            <span class="material-symbols-outlined menu-icon" onclick="toggleSidebar()">
                menu
            </span>
        </div>
        <div class="frame-header">
            <div class="frame-input">
                <span class="material-symbols-outlined icon-search-header">
                    search
                </span>
                <input class='input-header' placeholder='Search or type a command' />
            </div>
            <div class='frame-info'>
                <div class='class-icon-header'>
                    <span class="material-symbols-outlined icon-header">
                        paid
                    </span>
                </div>
                <div class='class-icon-header' onclick="openModal()">
                    <span class="material-symbols-outlined icon-header">
                        shopping_cart
                    </span>
                </div>
                <div class='class-avatar'>
                    <span class='span-frame'>
                        <img class='img-avatar' alt='user' src='/media/avatar.avif' />
                    </span>
                </div>
            </div>
            <div class="cart-frame" id="cart-frame-id">
                <aside class='cart-main' id="cart-main-id">
                    <div class='cart-outer'>
                        <div class='shopping-cart'>
                            <header>
                                <div class='fresnel-greater'>
                                    <div class='cart-inner'>
                                        <div class='shopping-cart-name'>
                                            <h4>Your cart</h4>
                                            <AiFillExclamationCircle />
                                        </div>
                                        <button type='button' onclick="closeModal()">
                                            <span class="material-symbols-outlined">
                                                cancel
                                            </span>
                                        </button>
                                    </div>
                                    <hr />
                                    <div class='count-item' id="count-item-id">
                                        <span>0 item</span>
                                        <button type='button' onclick="clearAllItem()">
                                            <span>
                                                Clear all
                                            </span>
                                        </button>
                                    </div>
                                </div>
                            </header>
                            <ul class='list-item' id="shopping-item-list">
                            </ul>
                            <div style="margin-bottom: 16px;"></div>
                            <hr />
                            <footer>
                                <div class='footer-inner' id="footer-inner-id">
                                    <span class='footer-title'>Total price</span>
                                    <span>0 USD</span>
                                </div>
                            </footer>
                            <div class='class-button'>
                                <button onClick={buyProduct}>
                                    Complete purchase
                                </button>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </div>

    <div id="sidebar" class="open">

    </div>

    <div class="content open">
        <div class='class-collection-detail'>
            <div class='content-page' id="detail-view-item">
                <div class='collection-detail-left' id="collection-detail-left-id">
                </div>
                <div class='collection-detail-right' id="collection-detail-right-id">
                </div>
            </div>

        </div>
    </div>
    <script src="/js/app.js"></script>
    <script src="/js/link.js"></script>
    <script src="/js/data.js"></script>
    <script src="/js/shopping.js"></script>
    <script>
        var urlPage = new URL(window.location.href);
        var id = urlPage.searchParams.get("id");
        async function getDataDetail() {
            try {
                const response = await fetch(`https://marketplace-3lqw.onrender.com/api/products/${id}`);
                const dataRes = await response.json();
                const ContentView = document.getElementById('detail-view-item')
                const detailLeft = document.getElementById('collection-detail-left-id')
                const detailRight = document.getElementById('collection-detail-right-id')

                detailLeft.innerHTML = `
                <img src='${dataRes.productIMG}' alt='' />
                <div class='class-showdown'>
                    <div class='class-properties'>
                        <div class='class-name-properties'>
                            <span class="material-symbols-outlined">
                                flex_wrap
                            </span>
                            <span class='properties'>Properties</span>
                         </div>
                    </div>
                <div class='class-down-detail'>
                    <div class='class-down-grid'>
                        <div class='down-detail-item'>
                            <span class='title-item'>Category</span>
                            <span>Shadow</span>
                            <div class='detail-item-bottom'>
                                <div class='detail-item-bottom-percent'>
                                    <p>9,007</p>
                                </div>
                                <div class='detail-item-bottom-price'>
                                    <p>1.33323213</p>
                                </div>
                            </div>
                        </div>
                        <div class='down-detail-item'>
                            <span class='title-item'>Category</span>
                            <span>Shadow</span>
                            <div class='detail-item-bottom'>
                                <div class='detail-item-bottom-percent'>
                                    <p>9,007</p>
                                </div>
                                <div class='detail-item-bottom-price'>
                                    <p>1.33323213</p>
                                </div>
                            </div>
                        </div>
                        <div class='down-detail-item'>
                            <span class='title-item'>Category</span>
                            <span>Shadow</span>
                            <div class='detail-item-bottom'>
                                <div class='detail-item-bottom-percent'>
                                    <p>9,007</p>
                                </div>
                                <div class='detail-item-bottom-price'>
                                    <p>1.33323213</p>
                                </div>
                            </div>
                        </div>
                        <div class='down-detail-item'>
                            <span class='title-item'>Category</span>
                            <span>Shadow</span>
                            <div class='detail-item-bottom'>
                                <div class='detail-item-bottom-percent'>
                                    <p>9,007</p>
                                </div>
                                <div class='detail-item-bottom-price'>
                                    <p>1.33323213</p>
                                </div>
                            </div>
                        </div>
                        <div class='down-detail-item'>
                            <span class='title-item'>Category</span>
                            <span>Shadow</span>
                            <div class='detail-item-bottom'>
                                <div class='detail-item-bottom-percent'>
                                    <p>9,007</p>
                                </div>
                                <div class='detail-item-bottom-price'>
                                    <p>1.33323213</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                `

                detailRight.innerHTML = `
                    <div class='chakra-stack'>
                        <div class='chakra-stack-header'>
                            <div class='chakra-stack-header-left'>
                                <span class='header-left-span'>
                                    <p>Certified</p>
                                    <p class='check'>
                                        <span class="material-symbols-outlined">
                                            new_releases
                                        </span>
                                    </p>
                                </span>
                                <div class='floor-type'>
                                    <p class="volumn">Volumn</p>
                                    <p style="overflow: hidden;">
                                        12 USD</p>
                                </div>
                            </div>
                            <div class='chakra-stack-header-right'>
                                <a href="/pages/collection/collection.html">
                                    <span class="material-symbols-outlined">
                                        home
                                    </span>                     
                                </a>
                            </div>
                        </div>
                        <div class='class-info-chakra-stack'>
                            <h3>${dataRes.productName}</h3>
                        </div>
                        <div class='class-info-chakra-stack'>
                            <div class='class-info-owner'>
                                <img src='/media/avatar.avif' alt='' />
                                <div class='owner-name'>
                                    <span>Owner</span>
                                    <p>${dataRes.owner}</p>
                                </div>
                            </div>
                        </div>
                        <div class='class-info-chakra-stack'>
                            <div class='class-offer'>
                                <div class='class-offer-content'>
                                    <div class='offer-info'>
                                        <span>Price</span>
                                        <p>${dataRes.productPrice} USD</p>

                                    </div>
                                </div>
                                <div class='class-offer-content'>
                                    <div class='offer-info'>
                                        <button class='handle-buy'>Buy now</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class='class-info-chakra-stack'>
                            <div class='class-showdown'>
                                <div class='class-properties offer'>
                                    <div class='class-name-properties'>
                                        <span class="material-symbols-outlined">
                                            other_admission
                                        </span>
                                <span class='properties'>Offer</span>
                             </div>
                            </div>
                            <div class='class-down-offer'>
                                <div class='chakra-accordion-panel'>
                            <div class='chakra-stack'>
                                <div class='chakra-stack-list'>
                                    <div class='chakra-stack-grid'>
                                            <div class='chakra-wrap'>
                                                <span>2%</span>
                                                <span>Below floor</span>
                                            </div>
                                            <div class='chakra-wrap'>
                                                <span>by</span>
                                                <p>An</p>
                                                <span>Expiry: in 30 days</span>
                                            </div>
                                            <hr></hr>
                                        </div>
                                        <div class='chakra-stack-grid'>
                                            <div class='chakra-wrap'>
                                                <span>2%</span>
                                                <span>Below floor</span>
                                            </div>
                                            <div class='chakra-wrap'>
                                                <span>by</span>
                                                <p>An</p>
                                                <span>Expiry: in 30 days</span>
                                            </div>
                                            <hr></hr>
                                        </div>
                                        <div class='chakra-stack-grid'>
                                            <div class='chakra-wrap'>
                                                <span>2%</span>
                                                <span>Below floor</span>
                                            </div>
                                            <div class='chakra-wrap'>
                                                <span>by</span>
                                                <p>An</p>
                                                <span>Expiry: in 30 days</span>
                                            </div>
                                            <hr></hr>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                        </div>
                    </div>
                `
                ContentView.appendChild(detailLeft)
                ContentView.appendChild(detailRight)

            } catch (error) {
                console.log(error);
            }
        }
        document.addEventListener("DOMContentLoaded", function () {
            getDataDetail();
        });

    </script>
</body>

</html>